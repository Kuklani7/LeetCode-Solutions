/**
 * Note: The returned array must be malloced, assume caller calls free().
 */
int* grayCode(int n, int* returnSize) {
    int size=1;
    int i=1;
    while(i<=n){
        size*=2;
        i++;
    }
    *returnSize=size;
    int *result=(int*) malloc(size*sizeof(int));
    for(int i=0;i<size;i++){
        result[i]=i^(i>>1);
    }
    return result;
}
